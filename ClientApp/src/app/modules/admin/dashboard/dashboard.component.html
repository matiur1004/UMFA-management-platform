<div class="flex flex-col flex-auto min-w-0">
    <div class="bg-card">
        <div class="flex flex-col w-full mx-auto px-6 sm:px-8">
            <div class="flex flex-col sm:flex-row flex-auto sm:items-center min-w-0 my-4 sm:my-6">
                <div class="flex flex-auto items-center min-w-0">
                    <div class="flex flex-col min-w-0 ml-4">
                        <div class="text-2xl md:text-5xl font-semibold tracking-tight leading-7 md:leading-snug truncate">Dashboard</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="flex-auto border-t -mt-px pt-4 sm:pt-6">
        <div class="w-full mx-auto">
            <mat-tab-group
                class="sm:px-2"
                [animationDuration]="'0'"
                [selectedIndex]="selectedTab">
                <mat-tab label="Home">
                    <ng-template matTabContent>
                        <div *ngIf="stats$ | async as stats; else loading">
                            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8 w-full">
                                <div class="sm:col-span-1 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden card cursor-pointer hover:bg-gray-100" (click)="onDetail(tabType.Buildings)">
                                    <div class="flex items-start justify-between">
                                        <div class="flex flex-col">
                                            <div class="text-lg font-medium tracking-tight leading-6 truncate">Buildings</div>
                                            <div class="text-3xl font-semibold tracking-tight leading-tight">
                                                {{stats.Buildings}}
                                            </div>
                                        </div>          
                                        <img class="card-img-top" src="/assets/images/gif/1918-city-hall-outline.gif" alt="Card image cap">
                                    </div>
                                </div>
                                <div class="sm:col-span-1 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden card cursor-pointer hover:bg-gray-100" (click)="onDetail(tabType.Shops)">
                                    <div class="flex items-start justify-between">
                                        <div class="flex flex-col">
                                            <div class="text-lg font-medium tracking-tight leading-6 truncate">Shops</div>
                                            <div class="text-3xl font-semibold tracking-tight leading-tight">
                                                {{stats.Shops}}
                                            </div>
                                        </div>          
                                        <img class="card-img-top" src="/assets/images/gif/1459-old-shop-outline.gif" alt="Card image cap">
                                    </div>
                                </div>
                                <div class="sm:col-span-1 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden card cursor-pointer hover:bg-gray-100" (click)="onDetail(tabType.Tenants)">
                                    <div class="flex items-start justify-between">
                                        <div class="flex flex-col">
                                            <div class="text-lg font-medium tracking-tight leading-6 truncate">Tenants</div>
                                            <div class="text-3xl font-semibold tracking-tight leading-tight">
                                                {{stats.Tenants}}
                                            </div>
                                        </div>          
                                        <img class="card-img-top" src="/assets/images/gif/970-video-conference-outline.gif" alt="Card image cap">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <ng-template #loading></ng-template>
                    </ng-template>
                </mat-tab>
                <ng-container *ngFor="let tabItem of tabsList; let i = index;">
                    <mat-tab class="home-tab" label="{{tabItem.title}}">
                        <ng-template mat-tab-label>
                            {{tabItem.title}}
                            <mat-icon class="icon-size-4 hover:text-red-500" [svgIcon]="'feather:x'" (click)="removeTab(i)"></mat-icon>
                          </ng-template>
                        <ng-template matTabContent>
                            <ng-container *ngIf="tabItem.dataSource">
                                <div class="flex gap-x-4">
                                    <div class="bg-card p-2">
                                        <dx-data-grid
                                            [dataSource]="buildings"
                                            [showBorders]="true"
                                            class="grid-container"
                                        >
                                            <dxo-scrolling rowRenderingMode="virtual"> </dxo-scrolling>
                                            <dxo-paging [pageSize]="10"> </dxo-paging>
                                            <dxo-pager
                                                [visible]="true"
                                                [allowedPageSizes]="allowedPageSizes"
                                                [displayMode]="'compact'"
                                                [showPageSizeSelector]="true"
                                                [showInfo]="true"
                                                [showNavigationButtons]="true"
                                            >
                                            </dxo-pager>
                                            <dxo-search-panel
                                                [visible]="true"
                                                [width]="200"
                                                placeholder="Search..."
                                            ></dxo-search-panel>
                                            <dxi-column dataField="BuildingId" [width]="100"></dxi-column>
                                            <dxi-column dataField="Name"></dxi-column>
                                            <dxi-column dataField="Partner"></dxi-column>
                                        </dx-data-grid>
                                    </div>
                                    <div class="bg-card p-2">
                                        <dx-data-grid
                                            [dataSource]="buildings"
                                            [showBorders]="true"
                                            class="grid-container"
                                        >
                                            <dxo-scrolling rowRenderingMode="virtual"> </dxo-scrolling>
                                            <dxo-paging [pageSize]="10"> </dxo-paging>
                                            <dxo-pager
                                                [visible]="true"
                                                [allowedPageSizes]="allowedPageSizes"
                                                [displayMode]="'compact'"
                                                [showPageSizeSelector]="true"
                                                [showInfo]="true"
                                                [showNavigationButtons]="true"
                                            >
                                            </dxo-pager>
                                            <dxo-search-panel
                                                [visible]="true"
                                                [width]="200"
                                                placeholder="Search..."
                                            ></dxo-search-panel>
                                            <dxi-column dataField="BuildingId" [width]="100"></dxi-column>
                                            <dxi-column dataField="Name"></dxi-column>
                                            <dxi-column dataField="Partner"></dxi-column>
                                        </dx-data-grid>
                                    </div>
                                    
                                </div>
                            </ng-container>
                        </ng-template>
                    </mat-tab>
                </ng-container>
            </mat-tab-group>
        </div>
        

    </div>

</div>
