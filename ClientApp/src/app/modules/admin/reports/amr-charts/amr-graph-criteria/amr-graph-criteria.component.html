  <!--This section for Demand Profile Chart-->
  <div *ngIf="amrChart.Id == 1">
  <form novalidate #frmReportParams="ngForm">
    <div class="grid grid-cols-3 gap-x-2">
      <div class="col-span-1">
        <div class="flex flex-col">
          <div *ngIf="meters$ | async as meters">
            <dx-select-box [items]="meters" displayExpr="MeterNo" valueExpr="Id" class="form-control" label="Meter"
              [itemTemplate]="custMtrTemplate" required placeholder="Select Meter" lableMode="static"
              [(ngModel)]="meterId" name="meter" #meterVar="ngModel"
              (onValueChanged)="valueChangedDemand($event, frmReportParams)"
              [ngClass]="{'is-invalid': (meterVar.touched && (meterVar.invalid || meterVar.value == 0)) }"
              [searchEnabled]="true">
            </dx-select-box>
            <!-- <span class="invalid-feedback">
              <span *ngIf="meterVar.errors?.required">
                Meter is required.
              </span>
            </span> -->
          </div>
          <div *ngIf="touHeaders$ | async as headers">
            <dx-select-box [items]="headers" displayExpr="Name" valueExpr="Id" class="form-control"
              label="Time-Of-Use Template" [itemTemplate]="custTOUTemplate" required placeholder="Select Profile"
              labelMode="static" [(ngModel)]="touHeaderId" name="touHeader" #touHeaderVar="ngModel"
              (onValueChanged)="valueChangedDemand($event, frmReportParams)"
              [ngClass]="{'is-invalid': (touHeaderVar.touched && (touHeaderVar.invalid || touHeaderVar.value == 0)) }">
            </dx-select-box>
            <!-- <span class="invalid-feedback">
              <span *ngIf="touHeaderVar.errors?.required">
                TOU Profile is required.
              </span>
            </span> -->
          </div>
        </div>
      </div>
      <div class="col-span-1">
        <div class="flex flex-col">
          <div class="flex flex-col w-full">
            <dx-date-box id="sDateId" class="form-control" placeholder="Date From" type="date" label="Start date"
              labelMode="static" name="sdp" [(ngModel)]="sdtModel" required #sDt="ngModel"
              (onValueChanged)="valueChangedDemand($event, frmReportParams)"
              [ngClass]="{'is-invalid': (sDt.touched && (sDt.invalid)) }" displayFormat="yyyy-MM-dd"> </dx-date-box>
            <!-- <span class="invalid-feedback">
              <span *ngIf="sDt.errors?.required">
                Valid Date is required
              </span>
            </span> -->
          </div>
          <div class="flex w-full flex-col">
            <dx-date-box id="eDateId" class="form-control" placeholder="Date To" type="date" label="End date"
              labelMode="static" name="edp" [(ngModel)]="edtModel" required #eDtP="ngModel"
              (onValueChanged)="valueChangedDemand($event, frmReportParams)"
              [ngClass]="{'is-invalid': (eDtP.touched && (eDtP.invalid)) }" displayFormat="yyyy-MM-dd"> </dx-date-box>
            <!-- <span class="invalid-feedback">
              <span *ngIf="eDtP.errors?.required">
                Valid Date is required
              </span>
            </span> -->
          </div>
        </div>
      </div>
      <div class="col-span-1">
        <div class="flex flex-col">
          <div class="flex flex-col w-full">
            <dx-date-box type="time" placeholder="Time" displayFormat="HH:mm" [(ngModel)]="sTime" label="Start time"
              labelMode="static" #sDtT="ngModel" name="sdT" required class="form-control"
              (onValueChanged)="valueChangedDemand($event, frmReportParams)"
              [ngClass]="{'is-invalid': (sDtT.touched && (sDtT.invalid)) }"> </dx-date-box>
              <!-- <span class="invalid-feedback">
                <span *ngIf="sDtT.errors?.required">
                  Valid Time is required
                </span>
              </span> -->
          </div>
          <div class="flex flex-col w-full">
            <dx-date-box type="time" placeholder="Time" displayFormat="HH:mm" [(ngModel)]="eTime" label="End time"
              labelMode="static" #eDtT="ngModel" name="edT" required class="form-control"
              (onValueChanged)="valueChangedDemand($event, frmReportParams)"
              [ngClass]="{'is-invalid': (eDtT.touched && (eDtT.invalid)) }"> </dx-date-box>
            <!-- <span class="invalid-feedback">
              <span *ngIf="eDtT.errors?.required">
                Valid Time is required
              </span>
            </span> -->
          </div>
        </div>
      </div>
    </div>
  </form>
</div>

<!--This section for Water Profile Chart-->
<div *ngIf="amrChart.Id == 2">
  <form novalidate #frmReportWaterParams="ngForm">
    <div class="grid grid-cols-3 gap-x-2">
      <div class="col-span-1">
        <div class="flex flex-col">
          <div *ngIf="meters$ | async as meters">
            <dx-select-box [items]="meters" displayExpr="MeterNo" valueExpr="Id" class="form-control" label="Meter"
              [itemTemplate]="custMtrTemplate" required placeholder="Select Meter" lableMode="static"
              [(ngModel)]="meterId" name="meter" #meterVar="ngModel"
              (onValueChanged)="valueChangedWater($event, frmReportWaterParams)"
              [ngClass]="{'is-invalid': (meterVar.touched && (meterVar.invalid || meterVar.value == 0)) }"
              [searchEnabled]="true">
            </dx-select-box>
            <!-- <span class="invalid-feedback">
              <span *ngIf="meterVar.errors?.required">
                Meter is required.
              </span>
            </span> -->
          </div>
        </div>
      </div>
      <div class="col-span-1">
        <div class="flex flex-col">
          <div class="flex flex-col w-full">
            <dx-date-box id="sDateId" class="form-control" placeholder="Date From" type="date" label="Start date"
              labelMode="static" name="sdp" [(ngModel)]="sdtModel" required #sDt="ngModel"
              (onValueChanged)="valueChangedDemand($event, frmReportWaterParams)"
              [ngClass]="{'is-invalid': (sDt.touched && (sDt.invalid)) }" displayFormat="yyyy-MM-dd"> </dx-date-box>
            <!-- <span class="invalid-feedback">
              <span *ngIf="sDt.errors?.required">
                Valid Date is required
              </span>
            </span> -->
          </div>
          <div class="flex w-full flex-col">
            <dx-date-box id="eDateId" class="form-control" placeholder="Date To" type="date" label="End date"
              labelMode="static" name="edp" [(ngModel)]="edtModel" required #eDtP="ngModel"
              (onValueChanged)="valueChangedDemand($event, frmReportWaterParams)"
              [ngClass]="{'is-invalid': (eDtP.touched && (eDtP.invalid)) }" displayFormat="yyyy-MM-dd"> </dx-date-box>
            <!-- <span class="invalid-feedback">
              <span *ngIf="eDtP.errors?.required">
                Valid Date is required
              </span>
            </span> -->
          </div>
        </div>
      </div>
      <div class="col-span-1">
        <div class="flex flex-col">
          <div class="flex flex-col w-full">
            <dx-date-box type="time" placeholder="Time" displayFormat="HH:mm" [(ngModel)]="sTime" label="Start time"
              labelMode="static" #sDtT="ngModel" name="sdT" required class="form-control"
              (onValueChanged)="valueChangedDemand($event, frmReportWaterParams)"
              [ngClass]="{'is-invalid': (sDtT.touched && (sDtT.invalid)) }"> </dx-date-box>
              <!-- <span class="invalid-feedback">
                <span *ngIf="sDtT.errors?.required">
                  Valid Time is required
                </span>
              </span> -->
          </div>
          <div class="flex flex-col w-full">
            <dx-date-box type="time" placeholder="Time" displayFormat="HH:mm" [(ngModel)]="eTime" label="End time"
              labelMode="static" #eDtT="ngModel" name="edT" required class="form-control"
              (onValueChanged)="valueChangedDemand($event, frmReportWaterParams)"
              [ngClass]="{'is-invalid': (eDtT.touched && (eDtT.invalid)) }"> </dx-date-box>
            <!-- <span class="invalid-feedback">
              <span *ngIf="eDtT.errors?.required">
                Valid Time is required
              </span>
            </span> -->
          </div>
        </div>
      </div>
    </div>
  </form>
</div>


