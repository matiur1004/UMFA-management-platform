<div class="alert alert-danger" *ngIf="localErrMsg$ | async as err" style="margin: 30px 0px 0px 0px">
  {{ err }}
</div>
<div class="flex flex-col flex-auto min-w-0">
  <div class="flex flex-col w-full mx-auto py-2 px-6 sm:px-8 bg-card border-b gap-y-2">
    <div class="flex grid grid-cols-9 gap-2">
      <div class="col-span-2">
        <amr-graphselection></amr-graphselection>
      </div>
      <div class="col-span-7">
        <amr-graphcriteria *ngIf="selectedId > 0"></amr-graphcriteria>
      </div>
    </div>
    <div class="col-span-1 flex justify-end gap-x-2" *ngIf="selectedId > 0">
      <button mat-raised-button [color]="'primary'" type="button"
        [title]="(frmsValid) ? 'Show Chart' : 'Disabled until the criteria is valid'" class="dnm-btn dnm-btn-primary"
        [disabled]="!frmsValid && !params" (click)="showChart($event);">Show Chart</button>
      <button mat-raised-button [color]="'primary'" type="button"
        [title]="(frmsValid) ? 'Show Chart' : 'Disabled until the criteria is valid'" class="dnm-btn dnm-btn-primary"
        [disabled]="(!frmsValid && !params) || !enabledDownload" (click)="onExport()">Download Data</button>
    </div>
  </div>
  <div class="flex w-full justify-center overflow-hidden graph-container">
    <amr-graphresult></amr-graphresult>
  </div>
  
</div>